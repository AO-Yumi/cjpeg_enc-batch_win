JPEG encode batch for cjpeg 
====

これはコマンドラインエンコードツールであるcjpegでのエンコードを、マウスによるドラッグアンドドロップで簡単に行えるようにするためのスクリプト（バッチファイル）です。


## 概要
このバッチは複数のbmp（MozJPEG版cjpegを使用する場合は加えてjpeg）ファイル、及びディレクトリ（フォルダ）の入力に対応しています。 そのため大量のファイルを一度にエンコードすることが可能です。 

また入力されたディレクトリの相対的な構造は出力側でも保たれます。


## 必要なもの
Windows7以降のWindowsが動作しているPCと、同OS上で動作するようにコンパイルされた**cjpeg**が必要です。

エンコーダである**cjpeg**は別途用意してください。cjpegは**MozJPEG版**を推奨します。


## 使い方
まず最初に初期設定を行います。  


### エンコーダの場所の設定
バッチファイルを適当なテキストエディッタで開き**USER SETTING**の項目にある

    set BIN_DIST=""

となっている部分の引用句(")で囲まれた部分にcjpegのパスをフルパスで挿入してください。

> 設定例
> 
> 	set BIN_DIST="c:\_command\jpeg\cjpeg.exe"


### エンコードされたファイルの出力場所を設定

エンコードされたファイルの出力場所を上記と同様に記述します。

	set OUT_DIR=""

となっている部分の引用句(")で囲まれた部分に出力する場所をフルパスで挿入してください。

> 設定例
> 
> 	set OUT_DIR="c:\OUTJPEG"

### エンコーダオプションの設定
エンコーダであるcjpegに渡すオプションを設定します。設定出来るオプションは使用するcjpegによります。  
オプションは以下の(=)の後に記述します。

	set BIN_OPTION=

> 設定例
> 
> 	set BIN_OPTION=-quality 85 -baseline -optimize
> Qulality 85、ベースラインモード、ハフマンテーブル最適化有り	
	

### オプション設定　複数Qualityでのエンコード

初期設定を変更することで、複数のQuality設定値での連続エンコードが可能です。  
以下の部分を変更します。

	set QUALITY_LO=0
	set QUALITY_UP=0

**QUALITY_LO**には下限値を**QUALITY_UP**には上限値を設定します。  
ここで有効な値を設定した場合は、**エンコーダオプションの設定**に設定されたQuality値は無視されます。

例

	set QUALITY_LO=70
	set QUALITY_UP=90

Quality70から90の範囲でエンコードします。  
*設定値によっては非常に多くのファイルが出力されることになるので注意してください。*



## ライセンス

MIT License